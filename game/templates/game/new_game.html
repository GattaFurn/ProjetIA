{% load static %} 
{% csrf_token %}
<!DOCTYPE html> 
<html>
    <head>
        <style>
    		#my_board td{ 
				width: 70px;
				height: 70px;
				border: 2px solid black;
			}
            .my_board td{
                width: 70px;
				height: 70px;
				border: 2px solid #999999;
                color : #999999;
            }
            #board_letter_number td{
                width: 70px;
				height: 70px;
                margin-bottom: 15px;
                text-align: center;
                font-size: 32px;
                font-weight: bolder;
                border: 2px solid black;
            }
            h1{
				text-align: center;
				margin-top: 30px;
				margin-bottom: 50px;
                font-size: 60px;
			}
            #game_content{
                display : flex;
                justify-content: space-around;
            }
            .player_panel{
                width : 300px;
                text-align: center;
                border: 4px solid black;
                border-radius: 10px;
            }
            .div_informations{
                display: flex;
                justify-content: space-between;
                width: 270px;
                margin-left: 15px;
                margin-right: 15px;
            }
            .table_moves{
                width : 270px;
                margin: 0px auto;
            }
            .table_moves td{
                height: 30px;
                border: 1px solid black;
            }
            .button_move{
                font-size: 32px;
                width : 270px;
                height: 90px;
                margin-top: 10px;
                margin-left: auto;
                margin-right: auto;
                border-radius: 10px;
                margin-bottom: 10px;
                background-color: #00cc00;
            }
            #player1_panel_color{
                background-color: blue;
            }
            #player2_panel_color{
                background-color: red;
            }
            .player_panel_not_your_turn {
                background-color: grey;
                border : 4px solid lightgrey;
                opacity: 0.5;
            }
            #dark_mode{
			position: absolute;
			margin-bottom: 1200px;
			margin-left: 1590px;
		    }

            .image_joueur {
	            max-width: 100%;
	            height: auto;
            }
            

        </style> 
        {{game_state|json_script:"game_state"}}
        <script>var game_state = JSON.parse(document.getElementById('game_state').textContent);</script>
        <script src="{% static 'game/move.js' %}"></script>
        <script src="{% static 'game/board.js' %}"></script>
        <script>

            var pic1 = "{% static "image/Robot1.png" %}";
            var pic2 = "{% static "image/Robot2.png" %}";

            window.onload = function(){
                console.log(game_state)
                bouton_creation();
                button_function();
                createBoard();
                player_focused(game_state["current_player"]);
            };
            
            function casePick(color){
                this.style.backgroundColor = color;
            }

            function darkMode(){
                document.body.style.backgroundColor = '#262626';
                
            }

            function bouton_creation(){
                const flèches = new Map();
                flèches.set("↑",[-1,0]);
                flèches.set("↓",[1,0]);
                flèches.set("←",[0,-1]);
                flèches.set("→",[0,1]);
                let divs = document.getElementsByClassName("button");
                for(div of divs){
                    for (const[key,value] of flèches){
                        let button = document.createElement("button");
                        button.className = "button_move";
                        button.innerHTML = key;
                        button.moveset = value;
                        div.appendChild(button);
                    }
                }
            }
        </script>

        <title>Game</title>
    </head>
    <body>
        <button id="dark_mode">Dark mode</button>
        
        
        
        <h1>The Game</h1>
        
        <di id="game_content">
            <div  class = "player_panel" id="player1_panel_color">
                <h2>Player 1</h2>
                <div class="div_informations">
                    <p style="display: inline;">Boxes taken : </p>
                    <p style="display: inline;">10</p>
                </div>
                <div class="div_informations">
                    <p style="display: inline;">Boxes conceded : </p>
                    <p style="display: inline;">10</p>
                </div>
                <div class="div_informations">
                    <p>Travel history :</p>
                </div>
                <div>
                    <table class="table_moves">
                        <tr>
                            <td>De la case A1 vers la case A2</td>
                        </tr>
                    </table>
                </div>
                <div class="button">   
                </div>        
            </div>

            <div id ="my_board">
            
            </div>


            <div class = "player_panel" id="player2_panel_color">
                <h2>Player 2</h2>
                <div class="div_informations">
                    <p style="display: inline;">Boxes taken : </p>
                    <p style="display: inline;">10</p>
                </div>
                <div class="div_informations">
                    <p style="display: inline;">Boxes conceded : </p>
                    <p style="display: inline;">10</p>
                </div>
                <div class="div_informations">
                    <p style="display: inline;">Travel history :</p>
                </div>
                <div>
                    <table class="table_moves">
                        <tr>
                            <td>De la case A1 vers la case A2</td>
                        </tr>
                    </table>
                </div>
                <div class="button">   
                </div>     
            </div>
        </div>
    </body>
</html>