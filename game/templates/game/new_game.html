{% load static %} 
{% csrf_token %}
<!DOCTYPE html> 
<html>
    <head>
        <style>
    		*{
				Font-family: Blippo, fantasy;
			}
            body{
                background-color: #C0392B;
            }
            h2{
                font-size: 30px;
            }
            #board_letter_number td{
                width: 70px;
				height: 70px;
                border-radius: 15px;
                text-align: center;
                font-size: 32px;
                font-weight: bolder;
                background-color:#D98880;
            }
            .casesHeader{
                background-color: #C0392B;
            }
            
            #game_content{
                display : flex;
                justify-content: space-evenly;
            }
            .player_panel{
                height: 550px;
                width : 400px;
                text-align: center;
                border: none;
                border-radius: 20px;
                padding-top: 5px;
            }
           
            .button_move{
                font-size: 32px;
                height: 70px;
                width: 70px;
                margin-top: 10px;
                margin-left: 10px;
                margin-right: 10px;
                margin-bottom: 10px;
                border: none;
                border-radius: 10px;
                background-color: #28B463;
                outline: none;
            }
            #player1_panel_color{
                background-color: blue;
            }
            #player2_panel_color{
                background-color: red;
            }
            .player_panel_not_your_turn {
                animation: fadeinDark 0.3s;
                opacity: 0.3;
            }
            @keyframes fadeinDark{
				from{
					opacity: 1;
				}
				to{
					opacity: 0.3;
				}
			}
            #dark_mode{
			    position: absolute;
			    margin-bottom: 1200px;
			    margin-left: 1580px;
                animation: fadein 1.5s;
                font-size: 20px;
                background-color: #28B463;
                height: 40px;
                width : 110px;
                border-radius: 10px;
                outline: none;
                border: none;
		    }

            .image_joueur {
	            max-width: 60px;
	            max-height: 60px;
            }
            .titreSectionPanel{
                margin-top: 25px;
                font-size: 24px;
                text-align: center;
            }
            .infoJoueur{
                margin-top: 15px;
                height : 40px;
                
                margin-left: 60px;
                margin-right: 60px;
                border-radius: 7px;
                font-size: 20px;
                padding-top: 15px;
                background-color:#D98880;
            }
            .boutonHaut{
                display: block;
                margin-left: auto;
                margin-right: auto;
            }  
            .button{
                margin-top: 30px;
            }
            h1{
                margin-top: 40px;
				margin-bottom: 40px;
                font-size: 70px;
                text-align: center;
                animation: fadein 1.3s;
            }
            @keyframes fadein{
				from{
					opacity: 0;
				}
				to{
					opacity: 1;
				}
			}
			.fade{
				animation: fadein 1s;
			}
            .blackPanel{
                background-color: black;
                border : none;
                border-radius: 20px;
                height: 555px;
                margin-top: 50px;
            }
            @keyframes zoom{
				from{
					-webkit-transform: scale(1);
				}
				to{
					-webkit-transform: scale(1.10);
				}
			}
			.zoom:hover{
				animation: zoom 0.25s;
				-webkit-transform: scale(1.10);
			}
        </style> 
        {{game_state|json_script:"game_state"}}
        <script>var game_state = JSON.parse(document.getElementById('game_state').textContent);</script>
        <script src="{% static 'game/move.js' %}"></script>
        <script src="{% static 'game/board.js' %}"></script>
        <script>

            var pic1 = "{% static "image/logoCub-e.png" %}";
            var pic2 = "{% static "image/logoCub-e.png" %}";

            window.onload = function(){
                bouton_creation();
                button_function();
                createBoard();
                
                player_focused(game_state["current_player"],game_state["code"]);
            };

            function bouton_creation(){
                const flèches = new Map();
                flèches.set("↑",[-1,0]);
                flèches.set("←",[0,-1]);
                flèches.set("↓",[1,0]);
                flèches.set("→",[0,1]);
                let divs = document.getElementsByClassName("button");
                for(div of divs){
                    for (const[key,value] of flèches){
                        let button = document.createElement("button");
                        if(key == "↑")
                            button.classList.add("boutonHaut")
                        button.classList.add("button_move");
                        button.classList.add("zoom");
                        button.innerHTML = key;
                        button.moveset = value;
                        div.appendChild(button);
                    }
                }
            }

        </script>

        <title>Game</title>
    </head>
    <body>
        <button id="dark_mode">Dark mode</button>
        
        
        
        <h1>Cub-e</h1>
        
        <di id="game_content">
            <div class="blackPanel">
                <div  class = "player_panel" id="player1_panel_color">
                    <h2>Player 1</h2>
                    <div class="div_informations">
                        <p class="titreSectionPanel">Boxes taken</p>
                    </div>
                    <div class="div!informations">
                        <p class="infoJoueur">10</p>
                    </div>
                    <div class="div_informations">
                        <p class="titreSectionPanel">Travel history</p>
                    </div>
                    <div>
                        <p class="infoJoueur">De la case A1 vers la case A2</p>
                    </div>
                    <div class="button">   
                    </div>        
                </div>
            </div>
            

            <div id ="my_board">
            
            </div>

            <div class="blackPanel">
                <div  class = "player_panel" id="player2_panel_color">
                    <h2>Player 2</h2>
                    <div class="div_informations">
                        <p class="titreSectionPanel">Boxes taken</p>
                    </div>
                    <div class="div!informations">
                        <p class="infoJoueur">10</p>
                    </div>
                    <div class="div_informations">
                        <p class="titreSectionPanel">Travel history</p>
                    </div>
                    <div>
                        <p class="infoJoueur">De la case A1 vers la case A2</p>
                    </div>
                    <div class="button">   
                    </div>        
                </div>
            </div>
            
        </div>
    </body>
</html>